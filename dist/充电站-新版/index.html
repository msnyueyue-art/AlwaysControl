<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>充电站管理系统 - 新版</title>
  <link rel="stylesheet" href="css/app.css">
  <link rel="icon" href="../充电站/logo.png">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
  <script>
    // 确保ECharts和Leaflet加载完成
    window.addEventListener('load', function() {
      if (typeof echarts === 'undefined') {
        console.error('ECharts failed to load');
      }
      if (typeof L === 'undefined') {
        console.error('Leaflet failed to load');
      }
    });
  </script>
</head>
<body>
  <div id="app" class="app">
    <aside class="sidebar" id="sidebar">
      <div class="brand">
        <img src="logo.png" alt="AlwaysControl" class="brand-logo">
      </div>
      <nav class="menu" id="menu">
        <a href="#/dashboard" data-key="dashboard" class="menu-item active">首页</a>
        <a href="#/sites" data-key="sites" class="menu-item">站点管理</a>
        <a href="#/piles" data-key="piles" class="menu-item">充电桩管理</a>
        <a href="#/orders" data-key="orders" class="menu-item">充电订单管理</a>
        <a href="#/users" data-key="users" class="menu-item">用户管理</a>
        <a href="#/analytics" data-key="analytics" class="menu-item">数据分析</a>
        <a href="#/alerts" data-key="alerts" class="menu-item">告警管理</a>
        <div class="menu-item menu-item-toggle" data-toggle="submenu" data-key="system">
          <span>系统管理</span>
          <svg class="submenu-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"></polyline>
          </svg>
        </div>
        <div class="submenu" id="systemSubmenu">
          <a href="#/system/menus" data-key="system-menus" class="menu-item">菜单管理</a>
          <a href="#/system/roles" data-key="system-roles" class="menu-item">角色管理</a>
          <a href="#/system/users" data-key="system-users" class="menu-item">人员管理</a>
          <a href="#/system/logs" data-key="system-logs" class="menu-item">日志管理</a>
        </div>
      </nav>
      <div class="sidebar-footer">
        <button id="collapseBtn" class="btn btn-ghost" title="收起/展开">⟨⟩</button>
      </div>
    </aside>
    <div class="main">
      <header class="header">
        <div class="left">
          <button id="mobileMenuBtn" class="btn-icon hide-desktop" title="打开菜单">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="3" y1="12" x2="21" y2="12"></line>
              <line x1="3" y1="6" x2="21" y2="6"></line>
              <line x1="3" y1="18" x2="21" y2="18"></line>
            </svg>
          </button>
          <h1 class="page-title">数据概览</h1>
        </div>
        <div class="right">
          <button id="langToggle" class="btn-icon" title="切换语言">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <circle cx="12" cy="12" r="10"></circle>
              <line x1="2" y1="12" x2="22" y2="12"></line>
              <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
            </svg>
          </button>
          <button id="notificationBtn" class="btn-icon" title="消息通知">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
              <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
            </svg>
            <span class="notification-badge">5</span>
          </button>
          <div class="user-menu">
            <button id="userMenuBtn" class="user-avatar" title="用户菜单">A</button>
            <div id="userDropdown" class="user-dropdown">
              <div class="user-dropdown-header">
                <div class="user-avatar-large">A</div>
                <div class="user-info">
                  <div class="user-info-name">管理员</div>
                  <div class="user-info-email">admin@example.com</div>
                </div>
              </div>
              <div class="user-dropdown-divider"></div>
              <button id="logoutBtn" class="user-dropdown-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                  <polyline points="16 17 21 12 16 7"></polyline>
                  <line x1="21" y1="12" x2="9" y2="12"></line>
                </svg>
                退出登录
              </button>
            </div>
          </div>
        </div>
      </header>
      <main id="view" class="view"></main>
    </div>
  </div>

  <script src="js/router.js"></script>
  <script src="js/home.js"></script>
  <script src="js/sites.js"></script>
  <script src="js/users.js"></script>
  <script src="js/piles.js"></script>
  <script src="js/orders.js"></script>
  <script src="js/analytics.js"></script>
  <script src="js/alerts.js"></script>
  <script src="js/system.js"></script>
  <script>
    window.addEventListener('DOMContentLoaded', () => {
      window.appRouter.init();
    });
  </script>
</body>
</html>


