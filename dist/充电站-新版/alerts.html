<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å‘Šè­¦ç®¡ç† - ç”µåŠ¨æ±½è½¦å……ç”µç«™ç®¡ç†ç³»ç»Ÿ</title>
  <link rel="icon" href="../å……ç”µç«™/logo.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#007AFF',
            success: '#10b981',
            warning: '#f59e0b',
            danger: '#ef4444',
            muted: '#6b7280'
          },
          boxShadow: {
            card: '0 2px 8px rgba(0,0,0,0.08)'
          },
          borderRadius: {
            card: '16px'
          }
        }
      }
    }
  </script>
  <style>
    body{background:#F8F9FA;margin:0}
    .fixed-header{display:none !important}
    .fixed-sidebar{display:none !important}
    .page-wrap{padding-top:0 !important;padding-left:0 !important}
    .grid-cols-8{grid-template-columns:repeat(8,minmax(0,1fr))}
    .grid-cols-9{grid-template-columns:repeat(9,minmax(0,1fr))}
  </style>
</head>
<body>
  <!-- é¡¶éƒ¨å›ºå®šå¯¼èˆª -->
  <header class="fixed-header bg-white border-b border-gray-200">
    <div class="max-w-screen-2xl mx-auto px-4 lg:px-6 h-16 flex items-center justify-between">
      <div class="flex items-center gap-3">
        <a href="index.html" class="text-gray-700 hover:text-gray-900">é¦–é¡µ</a>
        <span class="text-gray-300">/</span>
        <span class="font-semibold">å‘Šè­¦ç®¡ç†</span>
      </div>
      <div class="flex items-center gap-3">
        <button id="langToggle" class="px-3 py-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg">EN/ä¸­æ–‡</button>
        <button id="themeToggle" class="px-3 py-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg">åˆ‡æ¢ä¸»é¢˜</button>
        <div class="flex items-center gap-2">
          <span class="text-sm text-gray-600">ç®¡ç†å‘˜</span>
          <button id="logoutBtn" class="px-3 py-2 text-sm text-gray-600 hover:text-gray-900 border border-gray-300 rounded-lg">é€€å‡ºç™»å½•</button>
        </div>
      </div>
    </div>
  </header>

  <!-- å·¦ä¾§å›ºå®šèœå• -->
  <aside class="fixed-sidebar hidden lg:block">
    <nav class="p-3">
      <a class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-50" href="index.html">é¦–é¡µ</a>
      <a class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-50" href="sites.html">ç«™ç‚¹ç®¡ç†</a>
      <a class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-50" href="piles.html">å……ç”µæ¡©ç®¡ç†</a>
      <a class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-50" href="users.html">ç”¨æˆ·ç®¡ç†</a>
      <a class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-50" href="orders.html">å……ç”µè®¢å•ç®¡ç†</a>
      <a class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-50" href="analytics.html">æ•°æ®åˆ†æ</a>
      <a class="block px-3 py-2 rounded-lg bg-blue-50 text-primary" href="alerts.html">å‘Šè­¦ç®¡ç†</a>
      <div class="mt-2 text-xs text-gray-500 px-3">ç³»ç»Ÿç®¡ç†</div>
      <a class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-50" href="index.html#/system/menus">èœå•ç®¡ç†</a>
      <a class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-50" href="index.html#/system/roles">è§’è‰²ç®¡ç†</a>
      <a class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-50" href="index.html#/system/users">äººå‘˜ç®¡ç†</a>
      <a class="block px-3 py-2 rounded-lg text-gray-700 hover:bg-gray-50" href="index.html#/system/logs">æ—¥å¿—ç®¡ç†</a>
    </nav>
  </aside>

  <!-- ä¸»ä½“å†…å®¹å®¹å™¨ -->
  <main class="page-wrap">
    <div id="root" class="min-h-screen p-6"></div>
  </main>

  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script>
    const { useMemo, useState, useEffect } = React

    // å‡æ•°æ®
    const STATIONS = [
      { id: 'all', name: 'å…¨éƒ¨ç«™ç‚¹' },
      { id: 'tech-park', name: 'ç§‘æŠ€å›­åŒºç«™' },
      { id: 'logistics-park', name: 'ç‰©æµå›­åŒºç«™' },
      { id: 'business-center', name: 'å•†ä¸šä¸­å¿ƒç«™' },
      { id: 'residential', name: 'ä½å®…å°åŒºç«™' },
      { id: 'highway', name: 'é«˜é€Ÿå…¬è·¯ç«™' }
    ]

    const ALERT_TYPES = [
      'æ— æ³•å……ç”µ', 'æ¸©åº¦è¿‡é«˜', 'çŸ­è·¯ä¿æŠ¤', 'é€šä¿¡å¼‚å¸¸', 'ç”µå‹å¼‚å¸¸', 
      'ç”µæµå¼‚å¸¸', 'æ¥åœ°æ•…éšœ', 'ç»ç¼˜æ•…éšœ', 'è¿‡è½½ä¿æŠ¤', 'æ€¥åœè§¦å‘'
    ]

    const MOCK_ALERTS = Array.from({length: 89}).map((_,i)=>({
      id: 'ALT' + String(1000000 + i).padStart(7, '0'),
      type: ALERT_TYPES[i % ALERT_TYPES.length],
      description: [
        'å……ç”µè¿‡ç¨‹ä¸­æ£€æµ‹åˆ°å¼‚å¸¸ç”µæµæ³¢åŠ¨',
        'è®¾å¤‡æ¸©åº¦è¶…è¿‡å®‰å…¨é˜ˆå€¼ï¼Œè§¦å‘ä¿æŠ¤æœºåˆ¶',
        'æ£€æµ‹åˆ°çŸ­è·¯ç°è±¡ï¼Œå·²è‡ªåŠ¨åˆ‡æ–­ç”µæº',
        'ä¸ä¸»æ§ç³»ç»Ÿé€šä¿¡ä¸­æ–­ï¼Œæ— æ³•è·å–çŠ¶æ€',
        'è¾“å‡ºç”µå‹è¶…å‡ºæ­£å¸¸èŒƒå›´',
        'è¾“å…¥ç”µæµå¼‚å¸¸ï¼Œå¯èƒ½å­˜åœ¨è®¾å¤‡æ•…éšœ',
        'æ£€æµ‹åˆ°æ¥åœ°ç”µé˜»å¼‚å¸¸',
        'ç»ç¼˜ç”µé˜»å€¼ä½äºå®‰å…¨æ ‡å‡†',
        'è´Ÿè½½ç”µæµè¶…è¿‡é¢å®šå€¼ï¼Œè§¦å‘è¿‡è½½ä¿æŠ¤',
        'ç´§æ€¥åœæ­¢æŒ‰é’®è¢«æŒ‰ä¸‹'
      ][i % 10],
      level: ['ä¸€èˆ¬', 'é‡è¦', 'ä¸¥é‡'][i % 3],
      pileId: `PILE-${String(i % 50 + 1).padStart(3, '0')}`,
      gunId: `GUN-${String(i % 100 + 1).padStart(3, '0')}`,
      stationName: STATIONS[1 + (i % 5)].name,
      status: i % 4 === 0 ? 'å·²è§£å†³' : 'æœªè§£å†³',
      alertTime: new Date(Date.now() - Math.random() * 7 * 24 * 60 * 60 * 1000).toISOString().slice(0,19).replace('T', ' '),
      resolveTime: i % 4 === 0 ? new Date(Date.now() - Math.random() * 3 * 24 * 60 * 60 * 1000).toISOString().slice(0,19).replace('T', ' ') : null,
      operator: i % 4 === 0 ? 'admin' : null
    }))

    const Tag = ({ color, text }) => (
      React.createElement('span', { 
        className: 'px-2 py-1 rounded text-xs text-white font-medium', 
        style: { background: color }
      }, text)
    )

    function SearchCard({ onQuery, onReset }){
      const [station, setStation] = useState('all')
      const [deviceId, setDeviceId] = useState('')
      const [level, setLevel] = useState('')
      const [status, setStatus] = useState('')
      const [startDate, setStartDate] = useState('')
      const [endDate, setEndDate] = useState('')

      // è®¾ç½®é»˜è®¤æ—¶é—´èŒƒå›´ï¼ˆæœ€è¿‘7å¤©ï¼‰
      useEffect(() => {
        const end = new Date()
        const start = new Date(end.getTime() - 7 * 24 * 60 * 60 * 1000)
        setStartDate(start.toISOString().slice(0, 16))
        setEndDate(end.toISOString().slice(0, 16))
      }, [])

      const handleQuery = () => {
        onQuery({ station, deviceId, level, status, startDate, endDate })
      }

      const handleReset = () => {
        setStation('all')
        setDeviceId('')
        setLevel('')
        setStatus('')
        const end = new Date()
        const start = new Date(end.getTime() - 7 * 24 * 60 * 60 * 1000)
        setStartDate(start.toISOString().slice(0, 16))
        setEndDate(end.toISOString().slice(0, 16))
        onReset()
      }

      return (
        React.createElement('div', { className: 'bg-white shadow-card rounded-card border border-gray-200 p-6 mb-6' },
          React.createElement('div', { className: 'flex items-end justify-between gap-4 flex-wrap' },
            React.createElement('div', { className: 'flex-1 grid grid-cols-1 md:grid-cols-5 gap-4' },
              React.createElement('div', null,
                React.createElement('label', { className: 'block text-sm text-gray-600 mb-2' }, 'ç«™ç‚¹'),
                React.createElement('select', { 
                  className: 'w-48 h-9 border border-gray-300 rounded-lg px-3 text-sm', 
                  value: station, 
                  onChange: e => setStation(e.target.value) 
                },
                  STATIONS.map(s => 
                    React.createElement('option', { key: s.id, value: s.id }, s.name)
                  )
                )
              ),
              React.createElement('div', null,
                React.createElement('label', { className: 'block text-sm text-gray-600 mb-2' }, 'è®¾å¤‡ç¼–å·'),
                React.createElement('input', { 
                  className: 'w-48 h-9 border border-gray-300 rounded-lg px-3 text-sm', 
                  placeholder: 'å……ç”µæ¡©/å……ç”µæªç¼–å·', 
                  value: deviceId, 
                  onChange: e => setDeviceId(e.target.value) 
                })
              ),
              React.createElement('div', null,
                React.createElement('label', { className: 'block text-sm text-gray-600 mb-2' }, 'å‘Šè­¦çº§åˆ«'),
                React.createElement('select', { 
                  className: 'w-48 h-9 border border-gray-300 rounded-lg px-3 text-sm', 
                  value: level, 
                  onChange: e => setLevel(e.target.value) 
                },
                  React.createElement('option', { value: '' }, 'å…¨éƒ¨'),
                  React.createElement('option', { value: 'ä¸€èˆ¬' }, 'ä¸€èˆ¬'),
                  React.createElement('option', { value: 'é‡è¦' }, 'é‡è¦'),
                  React.createElement('option', { value: 'ä¸¥é‡' }, 'ä¸¥é‡')
                )
              ),
              React.createElement('div', null,
                React.createElement('label', { className: 'block text-sm text-gray-600 mb-2' }, 'å‘Šè­¦çŠ¶æ€'),
                React.createElement('select', { 
                  className: 'w-48 h-9 border border-gray-300 rounded-lg px-3 text-sm', 
                  value: status, 
                  onChange: e => setStatus(e.target.value) 
                },
                  React.createElement('option', { value: '' }, 'å…¨éƒ¨'),
                  React.createElement('option', { value: 'æœªè§£å†³' }, 'æœªè§£å†³'),
                  React.createElement('option', { value: 'å·²è§£å†³' }, 'å·²è§£å†³')
                )
              ),
              React.createElement('div', null,
                React.createElement('label', { className: 'block text-sm text-gray-600 mb-2' }, 'æ—¶é—´èŒƒå›´'),
                React.createElement('div', { className: 'flex items-center gap-2' },
                  React.createElement('input', { 
                    type: 'datetime-local',
                    className: 'w-24 h-9 border border-gray-300 rounded-lg px-2 text-sm', 
                    value: startDate, 
                    onChange: e => setStartDate(e.target.value) 
                  }),
                  React.createElement('span', { className: 'text-gray-400' }, 'è‡³'),
                  React.createElement('input', { 
                    type: 'datetime-local',
                    className: 'w-24 h-9 border border-gray-300 rounded-lg px-2 text-sm', 
                    value: endDate, 
                    onChange: e => setEndDate(e.target.value) 
                  })
                )
              )
            ),
            React.createElement('div', { className: 'flex items-center gap-3' },
              React.createElement('button', { 
                className: 'w-20 h-9 bg-primary text-white rounded-lg hover:bg-blue-600 text-sm font-medium', 
                onClick: handleQuery 
              }, 'æŸ¥è¯¢'),
              React.createElement('button', { 
                className: 'w-20 h-9 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-medium', 
                onClick: handleReset 
              }, 'é‡ç½®')
            )
          )
        )
      )
    }

    function ActionBar({ selectedCount, onBatchResolve, onExport, onSelectAll, isAllSelected }) {
      return (
        React.createElement('div', { className: 'bg-white shadow-card rounded-card border border-gray-200 p-4 mb-6' },
          React.createElement('div', { className: 'flex items-center justify-between' },
            React.createElement('div', { className: 'flex items-center gap-4' },
              React.createElement('label', { className: 'flex items-center gap-2' },
                React.createElement('input', { 
                  type: 'checkbox', 
                  className: 'w-4 h-4 text-primary rounded',
                  checked: isAllSelected,
                  onChange: onSelectAll
                }),
                React.createElement('span', { className: 'text-sm text-gray-600' }, 'å…¨é€‰')
              ),
              React.createElement('span', { className: 'text-sm text-gray-600' }, `å·²é€‰æ‹© ${selectedCount} æ¡`),
              React.createElement('button', { 
                className: 'px-4 py-2 bg-primary text-white rounded-lg hover:bg-blue-600 text-sm font-medium disabled:opacity-50 disabled:cursor-not-allowed',
                disabled: selectedCount === 0,
                onClick: onBatchResolve
              }, 'æ‰¹é‡è§£å†³'),
              React.createElement('button', { 
                className: 'px-4 py-2 bg-success text-white rounded-lg hover:bg-green-600 text-sm font-medium',
                onClick: onExport
              }, 'å¯¼å‡ºExcel')
            )
          )
        )
      )
    }

    function TableCard({ data, onDetail, onResolve, onSelect, selectedItems, onSelectAll, isAllSelected }){
      return (
        React.createElement('div', { className: 'bg-white shadow-card rounded-card border border-gray-200 overflow-hidden' },
          React.createElement('div', { className: 'overflow-x-auto' },
            React.createElement('div', { className: 'min-w-max' },
              React.createElement('div', { className: 'bg-gray-100 px-6 py-4 grid grid-cols-9 text-base font-medium text-gray-900 whitespace-nowrap' },
            React.createElement('div', { className: 'flex items-center gap-2' },
              React.createElement('input', { 
                type: 'checkbox', 
                className: 'w-4 h-4 text-primary rounded',
                checked: isAllSelected,
                onChange: onSelectAll
              }),
              React.createElement('span', null, 'å‘Šè­¦ç±»å‹')
            ),
            React.createElement('div', null, 'å‘Šè­¦æè¿°'),
            React.createElement('div', null, 'çº§åˆ«'),
            React.createElement('div', null, 'å……ç”µæ¡©ç¼–å·'),
            React.createElement('div', null, 'å……ç”µæªç¼–å·'),
            React.createElement('div', null, 'ç«™ç‚¹'),
            React.createElement('div', null, 'çŠ¶æ€'),
            React.createElement('div', null, 'å‘Šè­¦æ—¶é—´'),
            React.createElement('div', { className: 'text-center' }, 'æ“ä½œ')
          ),
          React.createElement('div', { className: 'divide-y divide-gray-200' }, data.map(alert => (
            React.createElement('div', { key: alert.id, className: 'grid grid-cols-9 items-center px-6 h-16 text-center whitespace-nowrap' },
              React.createElement('div', { className: 'flex items-center gap-2' },
                React.createElement('input', { 
                  type: 'checkbox', 
                  className: 'w-4 h-4 text-primary rounded',
                  checked: selectedItems.includes(alert.id),
                  onChange: () => onSelect(alert.id)
                }),
                React.createElement('span', { className: 'text-sm text-gray-900 font-medium' }, alert.type)
              ),
              React.createElement('div', { className: 'text-sm text-gray-600 text-left truncate' }, alert.description),
              React.createElement('div', null, 
                alert.level === 'ä¸€èˆ¬' 
                  ? React.createElement(Tag, { color: '#007AFF', text: 'ä¸€èˆ¬' })
                  : alert.level === 'é‡è¦'
                  ? React.createElement(Tag, { color: '#f59e0b', text: 'é‡è¦' })
                  : React.createElement(Tag, { color: '#ef4444', text: 'ä¸¥é‡' })
              ),
              React.createElement('div', { className: 'text-sm text-gray-600' }, alert.pileId),
              React.createElement('div', { className: 'text-sm text-gray-600' }, alert.gunId),
              React.createElement('div', { className: 'text-sm text-gray-900' }, alert.stationName),
              React.createElement('div', null, 
                alert.status === 'æœªè§£å†³' 
                  ? React.createElement(Tag, { color: '#ef4444', text: 'æœªè§£å†³' })
                  : React.createElement(Tag, { color: '#10b981', text: 'å·²è§£å†³' })
              ),
              React.createElement('div', { className: 'text-sm text-gray-600' }, alert.alertTime),
              React.createElement('div', { className: 'flex items-center justify-center gap-2 whitespace-nowrap' },
                React.createElement('button', { 
                  className: 'p-2 text-primary hover:bg-blue-50 rounded-lg transition-colors',
                  title: 'æŸ¥çœ‹è¯¦æƒ…',
                  onClick: () => onDetail(alert)
                }, 'âœ“'),
                alert.status === 'æœªè§£å†³' && React.createElement('button', { 
                  className: 'p-2 text-success hover:bg-green-50 rounded-lg transition-colors',
                  title: 'å¤„ç†å‘Šè­¦',
                  onClick: () => onResolve(alert)
                }, 'ğŸ‘ï¸')
              )
            )
          )))
            )
          )
        )
      )
    }

    function Pagination({ total, page, pageSize, onChange, onPageSizeChange }){
      const totalPages = Math.max(1, Math.ceil(total / pageSize))
      const pages = []
      for(let i = 1; i <= totalPages; i++) pages.push(i)
      
      return (
        React.createElement('div', { className: 'flex items-center justify-between bg-white shadow-card rounded-card border border-gray-200 p-4 mt-6' },
          React.createElement('div', { className: 'flex items-center gap-4' },
            React.createElement('div', { className: 'text-sm text-gray-600' }, `å…± ${total} æ¡è®°å½•`),
            React.createElement('div', { className: 'flex items-center gap-2' },
              React.createElement('span', { className: 'text-sm text-gray-600' }, 'æ¯é¡µæ˜¾ç¤º'),
              React.createElement('select', { 
                className: 'w-16 h-8 border border-gray-300 rounded px-2 text-sm',
                value: pageSize,
                onChange: e => onPageSizeChange(parseInt(e.target.value))
              },
                React.createElement('option', { value: 10 }, '10'),
                React.createElement('option', { value: 20 }, '20'),
                React.createElement('option', { value: 50 }, '50')
              ),
              React.createElement('span', { className: 'text-sm text-gray-600' }, 'æ¡')
            )
          ),
          React.createElement('div', { className: 'flex items-center gap-2' },
            React.createElement('button', { 
              className: 'px-3 h-8 border border-gray-300 rounded-lg text-sm text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed', 
              disabled: page === 1, 
              onClick: () => onChange(page - 1) 
            }, 'ä¸Šä¸€é¡µ'),
            pages.slice(Math.max(0, page - 3), Math.max(0, page - 3) + 5).map(p => (
              React.createElement('button', { 
                key: p, 
                className: `px-3 h-8 rounded-lg text-sm ${p === page ? 'bg-primary text-white' : 'border border-gray-300 text-gray-600 hover:bg-gray-50'}`, 
                onClick: () => onChange(p) 
              }, p)
            )),
            React.createElement('button', { 
              className: 'px-3 h-8 border border-gray-300 rounded-lg text-sm text-gray-600 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed', 
              disabled: page === totalPages, 
              onClick: () => onChange(page + 1) 
            }, 'ä¸‹ä¸€é¡µ')
          )
        )
      )
    }

    function App(){
      const [query, setQuery] = useState({})
      const [page, setPage] = useState(1)
      const [pageSize, setPageSize] = useState(10)
      const [selectedItems, setSelectedItems] = useState([])

      const filtered = useMemo(() => {
        let list = MOCK_ALERTS
        if(query.station && query.station !== 'all') {
          const stationName = STATIONS.find(s => s.id === query.station)?.name
          list = list.filter(a => a.stationName === stationName)
        }
        if(query.deviceId) list = list.filter(a => a.pileId.includes(query.deviceId) || a.gunId.includes(query.deviceId))
        if(query.level) list = list.filter(a => a.level === query.level)
        if(query.status) list = list.filter(a => a.status === query.status)
        if(query.startDate) list = list.filter(a => a.alertTime >= query.startDate)
        if(query.endDate) list = list.filter(a => a.alertTime <= query.endDate)
        return list
      }, [query])

      const pageData = useMemo(() => {
        const start = (page - 1) * pageSize
        return filtered.slice(start, start + pageSize)
      }, [filtered, page, pageSize])

      const isAllSelected = pageData.length > 0 && pageData.every(item => selectedItems.includes(item.id))

      useEffect(() => { 
        setPage(1)
        setSelectedItems([])
      }, [query])

      const handleSelect = (alertId) => {
        setSelectedItems(prev => 
          prev.includes(alertId) 
            ? prev.filter(id => id !== alertId)
            : [...prev, alertId]
        )
      }

      const handleSelectAll = () => {
        if (isAllSelected) {
          setSelectedItems(prev => prev.filter(id => !pageData.some(item => item.id === id)))
        } else {
          setSelectedItems(prev => [...prev, ...pageData.map(item => item.id)])
        }
      }

      const handleBatchResolve = () => {
        if(confirm(`ç¡®å®šè¦æ‰¹é‡è§£å†³é€‰ä¸­çš„ ${selectedItems.length} æ¡å‘Šè­¦å—ï¼Ÿ`)) {
          alert(`å·²æ‰¹é‡è§£å†³ ${selectedItems.length} æ¡å‘Šè­¦`)
          setSelectedItems([])
        }
      }

      const handleExport = () => {
        alert(`æ­£åœ¨å¯¼å‡º ${filtered.length} æ¡å‘Šè­¦æ•°æ®åˆ°Excel...`)
      }

      const handleDetail = (alert) => {
        alert(`å‘Šè­¦è¯¦æƒ…:\n\nå‘Šè­¦ID: ${alert.id}\nå‘Šè­¦ç±»å‹: ${alert.type}\nå‘Šè­¦æè¿°: ${alert.description}\nå‘Šè­¦çº§åˆ«: ${alert.level}\nå……ç”µæ¡©: ${alert.pileId}\nå……ç”µæª: ${alert.gunId}\nç«™ç‚¹: ${alert.stationName}\nçŠ¶æ€: ${alert.status}\nå‘Šè­¦æ—¶é—´: ${alert.alertTime}${alert.resolveTime ? `\nè§£å†³æ—¶é—´: ${alert.resolveTime}` : ''}${alert.operator ? `\nå¤„ç†äºº: ${alert.operator}` : ''}`)
      }

      const handleResolve = (alert) => {
        if(confirm(`ç¡®å®šè¦è§£å†³å‘Šè­¦ ${alert.id} å—ï¼Ÿ`)) {
          alert(`å‘Šè­¦ ${alert.id} å·²æ ‡è®°ä¸ºå·²è§£å†³`)
        }
      }

      return (
        React.createElement('div', { className: 'max-w-screen-2xl mx-auto' },
          React.createElement(SearchCard, { 
            onQuery: setQuery, 
            onReset: () => setQuery({}) 
          }),
          React.createElement(ActionBar, { 
            selectedCount: selectedItems.length,
            onBatchResolve: handleBatchResolve,
            onExport: handleExport,
            onSelectAll: handleSelectAll,
            isAllSelected: isAllSelected
          }),
          React.createElement(TableCard, { 
            data: pageData, 
            onDetail: handleDetail,
            onResolve: handleResolve,
            onSelect: handleSelect,
            selectedItems: selectedItems,
            onSelectAll: handleSelectAll,
            isAllSelected: isAllSelected
          }),
          React.createElement(Pagination, { 
            total: filtered.length, 
            page, 
            pageSize, 
            onChange: setPage,
            onPageSizeChange: setPageSize
          })
        )
      )
    }

    ReactDOM.createRoot(document.getElementById('root')).render(React.createElement(App))
    
    // Header button events
    document.getElementById('langToggle').addEventListener('click', ()=>{
      const isEn = document.documentElement.getAttribute('lang') === 'en'
      document.documentElement.setAttribute('lang', isEn ? 'zh-CN' : 'en')
    });
    
    document.getElementById('themeToggle').addEventListener('click', ()=>{
      const isDark = document.documentElement.getAttribute('data-theme') === 'dark'
      document.documentElement.setAttribute('data-theme', isDark ? 'light' : 'dark')
    });
    
    document.getElementById('logoutBtn').addEventListener('click', ()=>{
      if(confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
        alert('å·²é€€å‡ºç™»å½•')
      }
    });
  </script>
</body>
</html>
